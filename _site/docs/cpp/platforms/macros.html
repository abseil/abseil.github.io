<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="Abseil open-source foundational code">
    <meta name="description" content="Battle-tested, Mom-approved">
    <title>abseil / Pre-Compiled Macros</title>

    <!-- Fontawesome Icons -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    
    <!-- Favicons -->
    <link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico" />
    
    <!-- Bootstrap -->
    <link href="/libs/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Site style using SASS, generated by from style.scss -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Slick styling -->
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css"/>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick-theme.css"/>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- metadata -->
    <meta name="og:title" content="abseil / Pre-Compiled Macros"/>
	 <meta name="og:description" content="An open-source collection of core C++ library code"/>
  </head>
  <body class=>

  	<nav id="sticky-nav">
  <div class="nav-container container">
    <div class="row">
      <div class="col-md-11 nofloat center-block">
        <a class="col-xs-2" href="/">
          <img class="nav-logo" src="/img/absl_18px.svg" alt="Abseil">
        </a>

        <div class="col-xs-2 col-xs-offset-8">
          <button type="button" class="hamburger navbar-toggle collapsed" data-target="#navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>

        <ul class="nav col-xs-10">
          
          <li><a href="/about" >About</a></li>
          <li><a href="/docs/" class='current'>Docs</a></li>
		  <li><a href="/tips/" >Tips</a></li>
          <li><a href="/blog/" >Blog</a></li>
          <li><a href="/community/" >Community</a></li>
        </ul>

      </div>
    </div>
  </div>

  <div class="top-nav right">
    
    <li class="nav-item"><a href="/"><p>Home</p></a><div class="nav-toggle icon-close"></div></li>
    <hr>
    <li class="nav-item"><a href="/about" ><p>About</p></a></li>
    <hr>
    <li class="nav-item"><a href="/docs/" class='current'><p>Docs</p></a>
      <div class="nav-doc-toggle icon-caret"></div>
      <ul class="doc-list">
        <a href="/docs/cpp" ><li class="nav-doc-tab">C++ Devguide</li></a>
        <a href="/docs/cpp/quickstart" ><li class="nav-doc-tab">C++ Quick Start</li></a>
      </ul>
    </li>
    <hr>
    <li class="nav-item"><a href="/tips/" ><p>Tips</p></a></li>
    <hr>
    <li class="nav-item"><a href="/blog/" ><p>Blog</p></a></li>
    <hr>
    <li class="nav-item"><a href="/community/" ><p>Community</p></a></li>
  </div>
</nav>


<div class="nav-hero-container">
	<nav id="common-nav">
  <div class="nav-container container">
    <div class="row">
      <div class="col-md-11 nofloat center-block">
        <a class="col-xs-2" href="/">
          <img class="nav-logo" src="/img/absl_80px.png" alt="Abseil">
        </a>

        <div class="col-xs-2 col-xs-offset-8">
          <button type="button" class="hamburger navbar-toggle collapsed" data-target="#navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>

        <ul class="nav col-xs-10">
          
          <li><a href="/about" >About</a></li>
          <li><a href="/docs/" class='current'>Docs</a></li>
          <li><a href="/tips/" >C++ Tips</a></li>
		  <li><a href="/blog/" >Blog</a></li>
          <li><a href="/community" >Community</a></li>
        </ul>

      </div>
    </div>
  </div>

  <div class="top-nav right">
    
    <li class="nav-item"><a href="/"><p>Home</p></a><div class="nav-toggle icon-close"></div></li>
    <hr>
    <li class="nav-item"><a href="/about/" ><p>About</p></a></li>
    <hr>
    <li class="nav-item"><a href="/docs/" class='current'><p>Docs</p></a>
      <div class="nav-doc-toggle icon-caret"></div>
      <ul class="doc-list">
        <a href="/docs/cpp/quickstart" ><li class="nav-doc-tab">Quickstart</li></a>
      </ul>
    </li>
    <hr>
    <li class="nav-item"><a href="/blog/" ><p>Blog</p></a></li>
    <hr>
    <li class="nav-item"><a href="/tips/" ><p>Tips</p></a></li>
    <hr>
    <li class="nav-item"><a href="/community/" ><p>Community</p></a></li>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-11 nofloat center-block">
        <div class="col-xs-12">
          <h1 class="page-headline"></h1> 
        </div>
      </div>
    </div>
  </div>

</nav>

   <a href="https://github.com/abseil/" class="fork-btn" target="_blank"></a>

</div>



<div class="container">
<div class="row">
<div class="col-md-11 nofloat center-block ">
<div class="col-sm-3">
<ul class="doc-side-nav">
	
	<li><h5 class="doc-side-nav-title"><a href="/docs/">Docs</a></h5></li>
	<li><h5 class="doc-side-nav-title">
	<a href="/docs/cpp.html" class='current'><b>C++ Devguide</b></a></h5></li>
	<li class="doc-side-nav-list-item">
	  <a href="/docs/cpp/quickstart" >
	  Quickstart</a></li>
	  
	<li><h6 class="doc-side-nav-title">
	  <a href="/docs/cpp/guides/" >
	Programming Guides</a></h6></li>
	
   <li class="doc-side-nav-list-item">
     <a href="/docs/cpp/guides/base" >
     Abseil Fundamentals</a></li>
   <li class="doc-side-nav-list-item">
     <a href="/docs/cpp/guides/synchronization" >
     Synchronization</a></li>
   <li class="doc-side-nav-list-item">
     <a href="/docs/cpp/guides/strings" >
     Strings</a></li>
	 
  <li><h6 class="doc-side-nav-title">
  <a href="/docs/cpp/platforms/" class='current'>
   Platforms Guide</a></h6></li>
   
   <li class="doc-side-nav-list-item">
	<a href="/docs/cpp/platforms/platforms" >
	Supported Platforms</a></li>
	<li class="doc-side-nav-list-item">
	<a href="/docs/cpp/platforms/feature_checks" >
	Feature Check Macros</a></li>
 </ul>

</div>
<div class="col-sm-7 markdown">
<h2 id="platform-check-macros">Platform Check Macros</h2>

<p>C and C++ compilers automatically define some macros that can be used to:</p>

<ul>
  <li>Identify platforms (architecture, endianness, OS, compiler,
C++ standard, library)</li>
  <li>Detect compiler configurations (debug mode, exception handling, etc.)</li>
</ul>

<p>Collectively, these macros are known as <em>pre-defined compiler macros</em>,
and are used in Abseil to conditionally compile code for
various purposes like portability, performance, functionality, etc. This
document lists the compiler macros Abseil uses to write preprocessor
conditionals and build configuration macros.</p>

<p>This document is designed solely to document Abseil’s usage of these
macros, and assist developers who need to add architecture-specific
code to Abseil.</p>

<p>Note: <a href="feature_checks">Feature Check Macros</a>, which developers can use to
check for the presence of certain language features, are documented within
their own, separate guide.</p>

<p>The macros that Abseil uses are listed below, in tables that list the
macro, what it identifies, and what standard defines the macro.</p>

<p class="note">If you wish to check what macros your compiler has defined,
See
<a href="http://nadeausoftware.com/articles/2011/12/c_c_tip_how_list_compiler_predefined_macros" target="_blank">
How to List Compiler Predefined Macros</a></p>

<h2 id="architecture">Architecture</h2>

<table>
  <thead>
    <tr>
      <th><strong>Macro</strong></th>
      <th><strong>Architecture</strong></th>
      <th><strong>Compiler</strong></th>
      <th><strong>Notes</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">__x86_64__</code></td>
      <td>AMD64</td>
      <td>GNU C, Clang/LLVM</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">_M_X64</code></td>
      <td>AMD64</td>
      <td>Visual Studio</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__arm__</code></td>
      <td>ARM</td>
      <td> </td>
      <td>32-bit only</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">_M_ARM</code></td>
      <td>ARM</td>
      <td>Visual Studio</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__aarch64__</code></td>
      <td>ARM64</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__i386__</code></td>
      <td>Intel x86</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">_M_IX86</code></td>
      <td>Intel x86</td>
      <td>Visual Studio*</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__ia64__</code></td>
      <td>Intel Itanum (IA-64)</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">_M_IA64</code></td>
      <td>Intel Itanum (IA-64)</td>
      <td>Visual Studio</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__ppc__</code><br /><code class="highlighter-rouge">__PPC__</code><br /><code class="highlighter-rouge">__ppc64__</code><br /><code class="highlighter-rouge">__PPC64__</code></td>
      <td>PowerPC</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">_M_PPC</code></td>
      <td>PowerPC</td>
      <td>Visual Studio</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__myriad2__</code></td>
      <td>Myriad2</td>
      <td>Myriad Development Kit (Intel Movidius)</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__mips__</code></td>
      <td>MIPS</td>
      <td>GNU C</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>* Only defined for 32-bits architectures.</p>

<p>References:</p>

<ul>
  <li><a href="https://sourceforge.net/p/predef/wiki/Architectures/">Architectures</a>
within the Sourceforge Pre-defined Compiler Macros guide.</li>
  <li><a href="http://nadeausoftware.com/articles/2012/02/c_c_tip_how_detect_processor_type_using_compiler_predefined_macros">How to detect the processor type using compiler predefined macros</a></li>
</ul>

<h2 id="endianness">Endianness</h2>

<p>No standard portable pre-defined macro exists that can be used to
determine endianness. Instead, Abseil defines the following macros in
<code class="highlighter-rouge">absl/base/config/h</code>:</p>

<ul>
  <li><code class="highlighter-rouge">ABSL_IS_LITTLE_ENDIAN</code></li>
  <li><code class="highlighter-rouge">ABSL_IS_BIG_ENDIAN</code></li>
</ul>

<p>References:</p>

<ul>
  <li><a href="https://sourceforge.net/p/predef/wiki/Endianness/">Endian Neutral Code</a>
within the Sourceforge Pre-defined Compiler Macros guide.</li>
</ul>

<h2 id="operating-systems">Operating Systems</h2>

<table>
  <thead>
    <tr>
      <th><strong>Macro</strong></th>
      <th><strong>Operating System</strong></th>
      <th><strong>Compiler</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">__ANDROID__</code></td>
      <td>Android</td>
      <td>Android NDK</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__APPLE__</code></td>
      <td>MacOS, iOS</td>
      <td>GNU C, Intel C++, and Apple LLVM</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">_WIN32</code></td>
      <td>Windows</td>
      <td>For both 32-bit and 64-bit environments</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__linux__</code></td>
      <td>Linux</td>
      <td>Android NDK, GNU C, Clang/LLVM</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__ros__</code></td>
      <td>Akaros</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__Fushsia__</code></td>
      <td>Fuchsia</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>References:</p>

<ul>
  <li><a href="https://sourceforge.net/p/predef/wiki/OperatingSystems/">Operating Systems</a>
within the Sourceforge Pre-defined Compiler Macros guide.</li>
</ul>

<h2 id="compilers">Compilers</h2>

<table>
  <thead>
    <tr>
      <th><strong>Macro</strong></th>
      <th><strong>Compiler</strong></th>
      <th><strong>Version Macro</strong></th>
      <th><strong>Notes</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">__GNUC__</code></td>
      <td>GCC</td>
      <td><code class="highlighter-rouge">__GNUC__</code><br /><code class="highlighter-rouge">__GNUC_MINOR__</code><br /><code class="highlighter-rouge">__GNUC_PATCHLEVEL__</code></td>
      <td>Clang also defines <code class="highlighter-rouge">__GNUC__</code> for compatibility with GCC. If you want Clang-only, write <code class="highlighter-rouge">defined(__GNUC__) &amp;&amp; !defined(__clang__)</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__clang__</code></td>
      <td>Clang/LLVM</td>
      <td><code class="highlighter-rouge">__clang_major__</code><br /><code class="highlighter-rouge">__clang_minor__</code><br /><code class="highlighter-rouge">__clang_patchlevel__</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">_MSC_VER</code></td>
      <td>MSVC</td>
      <td><code class="highlighter-rouge">_MSC_VER</code><br /><code class="highlighter-rouge">_MSC_FULL_VER</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__EMSCRIPTEN__</code></td>
      <td>Emscripten</td>
      <td><code class="highlighter-rouge">__EMSCRIPTEN_major__</code><br /><code class="highlighter-rouge">__EMSCRIPTEN_minor__</code><br /><code class="highlighter-rouge">__EMSCRIPTEN_tiny__</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__asmjs__</code></td>
      <td>asm.js</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__NVCC__</code></td>
      <td>NVCC</td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>References:</p>

<ul>
  <li><a href="https://sourceforge.net/p/predef/wiki/Compilers/">Compilers</a>
within the Sourceforge Pre-defined Compiler Macros guide.</li>
</ul>

<h2 id="libraries">Libraries</h2>

<p>Library headers need to be included before checking the macros. For example,
<code class="highlighter-rouge">base/config.h</code> includes <code class="highlighter-rouge">&lt;cstddef&gt;</code> for <code class="highlighter-rouge">__GLIBCXX__</code>, <code class="highlighter-rouge">_LIBCPP_VERSION</code>.</p>

<p>Note that these macros are not compiler-dependent as they are defined within
header files.</p>

<table>
  <thead>
    <tr>
      <th><strong>Macro</strong></th>
      <th><strong>Library</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">__GLIBCXX__</code></td>
      <td>libstdc++</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">_LIBCPP_VERSION</code></td>
      <td>libc++</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">_MSC_VER</code></td>
      <td>MSVC</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__GLIBC__</code></td>
      <td>GNU glibc</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">__BIONIC__</code></td>
      <td>Bionic libc</td>
    </tr>
  </tbody>
</table>

<p>References:</p>

<ul>
  <li><a href="https://sourceforge.net/p/predef/wiki/Libraries/">Libraries</a>
within the Sourceforge Pre-defined Compiler Macros guide.</li>
</ul>

</div>

<div id="toc" class="toc col-sm-2"></div>
</div>
</div>
</div>




<footer>
    <div class="container">
        <div class="left-links">
            <img src="/img/typography_white.png" style="height:24px;"/>
            <p class="description">&copy;2017 Abseil | Live at Head</p>
        </div>
        <div class="right-links">
            <div class="col-md-4 col-sm-4 col-xs-12 footer-documentation">
                <ul class="toggle">
                    <a href="/about/"><p class="right-link-headers">About Abseil</p></a>
                    <li><a href="/about/intro"><p>Introduction</p></a></li>
                    <li><a href="/about/philosophy"><p>Philosophy</p></a></li>
                    <li><a href="/about/compatibility"><p>Compatibility</p></a></li>
                    <li><a href="/about/design/"><p>Design Notes</p><a></li>
                 </ul>
            </div>
            <hr class="footer-sections" />
            <div class="col-md-3 col-sm-3 col-xs-12 footer-resources">
                <ul class="toggle">
                    <a href="/docs/"><p class="right-link-headers">Dev Guides</p></a>
                    <li><a href="/docs/cpp.html"><p>C++</p></a></li>
                    <li><a href="/blog/"><p>Abseil Blog</p></a></li>
                </ul>
                </ul>
            </div>
            <hr class="footer-sections" />
            <div class="col-md-5 col-sm-5 col-xs-12 footer-community">
                <ul class="toggle">
                    <a href="/community/"><p class="right-link-headers">Community</p></a>
                    <li><a href="https://github.com/abseil/" target="_blank"><p class="github community-links">GitHub</p></a></li>
                    <li><a href="https://twitter.com/abseilio" target="_blank"><p class="twitter community-links">Twitter</p></a></li>
                    <li><a href="http://stackoverflow.com/tags/abseil/" target="_blank"><p class="stack-overflow community-links">Stack Overflow</p></a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>


    <script src="/libs/bootstrap/js/bootstrap.min.js"></script>
    <!-- Include SlickJS for carousel -->
    <script src="/js/slick.min.js"></script>
    <script src="/js/jquery.visible.min.js"></script>
    <!-- Include the common site javascript -->
    <script src="/js/common.js" type="text/javascript" charset="utf-8"></script>
    <!-- GA -->
    <script src="/js/waves.js"></script>
    <script src="/js/buttons.js"></script>
    
    

    
	
	<!-- Global Site Tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106933809-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments)};
	  gtag('js', new Date());

	  gtag('config', 'UA-106933809-1');
	</script>

  </body>
</html>

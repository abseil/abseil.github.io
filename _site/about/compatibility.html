<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="Abseil open-source foundational code">
    <meta name="description" content="Battle-tested, Mom-approved">
    <title>abseil / Abseil Compatibility Guidelines</title>

    <!-- Fontawesome Icons -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    
    <!-- Favicons -->
    <link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico" />
    
    <!-- Bootstrap -->
    <link href="/libs/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Site style using SASS, generated by from style.scss -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Slick styling -->
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css"/>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick-theme.css"/>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- metadata -->
    <meta name="og:title" content="abseil / Abseil Compatibility Guidelines"/>
	 <meta name="og:description" content="An open-source collection of core C++ library code"/>
  </head>
  <body class=>

  	<nav id="sticky-nav">
  <div class="nav-container container">
    <div class="row">
      <div class="col-md-11 nofloat center-block">
        <a class="col-xs-2" href="/">
          <img class="nav-logo" src="/img/absl_18px.svg" alt="Abseil">
        </a>

        <div class="col-xs-2 col-xs-offset-8">
          <button type="button" class="hamburger navbar-toggle collapsed" data-target="#navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>

        <ul class="nav col-xs-10">
          
          <li><a href="/about" class='current'>About</a></li>
          <li><a href="/docs/" >Docs</a></li>
		  <li><a href="/tips/" >Tips</a></li>
          <li><a href="/blog/" >Blog</a></li>
          <li><a href="/community/" >Community</a></li>
        </ul>

      </div>
    </div>
  </div>

  <div class="top-nav right">
    
    <li class="nav-item"><a href="/"><p>Home</p></a><div class="nav-toggle icon-close"></div></li>
    <hr>
    <li class="nav-item"><a href="/about" class='current'><p>About</p></a></li>
    <hr>
    <li class="nav-item"><a href="/docs/" ><p>Docs</p></a>
      <div class="nav-doc-toggle icon-caret"></div>
      <ul class="doc-list">
        <a href="/docs/cpp" ><li class="nav-doc-tab">C++ Devguide</li></a>
        <a href="/docs/cpp/quickstart" ><li class="nav-doc-tab">C++ Quick Start</li></a>
      </ul>
    </li>
    <hr>
    <li class="nav-item"><a href="/tips/" ><p>Tips</p></a></li>
    <hr>
    <li class="nav-item"><a href="/blog/" ><p>Blog</p></a></li>
    <hr>
    <li class="nav-item"><a href="/community/" ><p>Community</p></a></li>
  </div>
</nav>


<div class="nav-hero-container">
	<nav id="common-nav">
  <div class="nav-container container">
    <div class="row">
      <div class="col-md-11 nofloat center-block">
        <a class="col-xs-2" href="/">
          <img class="nav-logo" src="/img/absl_80px.png" alt="Abseil">
        </a>

        <div class="col-xs-2 col-xs-offset-8">
          <button type="button" class="hamburger navbar-toggle collapsed" data-target="#navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>

        <ul class="nav col-xs-10">
          
          <li><a href="/about" class='current'>About</a></li>
          <li><a href="/docs/" >Docs</a></li>
          <li><a href="/tips/" >C++ Tips</a></li>
		  <li><a href="/blog/" >Blog</a></li>
          <li><a href="/community" >Community</a></li>
        </ul>

      </div>
    </div>
  </div>

  <div class="top-nav right">
    
    <li class="nav-item"><a href="/"><p>Home</p></a><div class="nav-toggle icon-close"></div></li>
    <hr>
    <li class="nav-item"><a href="/about/" class='current'><p>About</p></a></li>
    <hr>
    <li class="nav-item"><a href="/docs/" ><p>Docs</p></a>
      <div class="nav-doc-toggle icon-caret"></div>
      <ul class="doc-list">
        <a href="/docs/cpp/quickstart" ><li class="nav-doc-tab">Quickstart</li></a>
      </ul>
    </li>
    <hr>
    <li class="nav-item"><a href="/blog/" ><p>Blog</p></a></li>
    <hr>
    <li class="nav-item"><a href="/tips/" ><p>Tips</p></a></li>
    <hr>
    <li class="nav-item"><a href="/community/" ><p>Community</p></a></li>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-11 nofloat center-block">
        <div class="col-xs-12">
          <h1 class="page-headline"></h1> 
        </div>
      </div>
    </div>
  </div>

</nav>

   <a href="https://github.com/abseil/" class="fork-btn" target="_blank"></a>

</div>



<div class="container">
<div class="row">
<div class="col-md-11 nofloat center-block ">
<div class="col-sm-3">
<ul class="doc-side-nav">
   
	<li><h5 class="doc-side-nav-title"><a href="/about/">About</a></h5></li>
	<li class="doc-side-nav-list-item">
	<a href="/about/intro" >
	Introduction</a></li>
	<li class="doc-side-nav-list-item">
	<a href="/about/philosophy" >
	Philosophy</a></li>
	<li class="doc-side-nav-list-item">
	<a href="/about/compatibility" class='current'>
	Compatibility</a></li>
   <li class="doc-side-nav-list-item">
   <a href="/about/design/" >
   Design Notes</a></li>
 </ul>
</div>
<div class="col-sm-7 markdown">
<h2 id="abseil-compatibility-guidelines">Abseil Compatibility Guidelines</h2>

<p class="note">This is our <b>initial release of Abseil</b> and the
guidelines spelled out below have become effective as of November 1,
2017. Any new APIs we release will have these requirements waived
for a period of 30 days, though we will make a best effort to adhere to these
guidelines as we resolve any issues with the new APIs.</p>

<p>This document details what we expect from well-behaved users, and what
we will offer in exchange. Any usage of Abseil libraries outside of
these technical boundaries may result in breakage when upgrading to
newer versions of Abseil.</p>

<p>Put another way: don’t do things that make Abseil API maintenance
tasks harder, and we promise not to break you if at all possible. If
you misuse Abseil APIs, you’re on your own.</p>

<h3 id="what-users-must-and-must-not-do">What Users Must (And Must Not) Do</h3>

<ul>
  <li><strong>Do not depend on a compiled representation of Abseil.</strong> We do not
promise any ABI compatibility — we intend for Abseil to be
built from source, hopefully from head. The internal layout of our
types may change at any point, without notice. Building Abseil in
the presence of different C++ standard library types may change
Abseil types, especially for pre-adopted types (string_view,
variant, etc) — these will become typedefs and their ABI will
change accordingly.</li>
  <li><strong>Run Tooling / Follow Directions when Updating.</strong> We will always
strive to not break API compatibility. If we feel that we must, we
will provide a compiler-based refactoring tool to assist in the
upgrade, along with directions for how to execute the update. Most
often these happen in the form: update to version N (where old and
new APIs co-exist), run tool to convert between old and new APIs. In
the rare instance where tooling cannot be produced, we’ll provide as
much information as we can about what to look for and how to resolve
issues. (Remember: any time we are making a change publicly we’re
also doing the work to update the 250MLoC+ internal Google codebase
— we very rarely do such refactoring that cannot be
automated.)</li>
  <li><strong>Do not rely on dynamic unloading.</strong> We consistently use patterns
that may not be friendly to dynamic unloading of shared libraries.
We make no claims that any of this code is usable in a system with
regular unloading of such libraries.</li>
  <li><strong>Not all Abseil libraries are suitable for dynamic loading.</strong> Some
libraries have startup/initialization requirements and may not be
suitable for dynamic loading.  We will try to be clear about which
libraries are OK for dynamic loading. However we don’t generally
deploy code in this fashion, mistakes are possible, and the normal
argument of “This code is production hardened” does not apply in
such usage.</li>
  <li><strong>You may not open namespace <code class="highlighter-rouge">absl</code>.</strong> You are not allowed to define
additional names in namespace <code class="highlighter-rouge">absl</code>, nor are you allowed to
specialize anything we provide. We expect there may eventually be
templates that are valid extension points provided by Abseil —
there are not currently. (This is similar to the restriction in the
C++ standard — there are very few things you are allowed to do
in namespace <code class="highlighter-rouge">std</code>.)</li>
  <li><strong>You may not depend on the signatures of Abseil APIs.</strong> You cannot
take the address of APIs in Abseil (that would prevent us from
adding overloads without breaking you). You cannot use
metaprogramming tricks to depend on those signatures either. (This
is also similar to the restrictions in the C++ standard.)</li>
  <li><strong>You may not forward declare Abseil APIs.</strong> This is actually a
sub-point of “do not depend on the signatures of Abseil APIs” as
well as “do not open namespace <code class="highlighter-rouge">absl</code>”, but can be surprising. Any
refactoring that changes template parameters, default parameters, or
namespaces will be a breaking change in the face of
forward-declarations.</li>
  <li><strong>Avoid unnecessary dependency on Argument-Dependent Lookup (ADL)
when calling Abseil APIs.</strong> Some APIs are designed to work via ADL
(e.g. <code class="highlighter-rouge">operator&lt;&lt;</code> for iostreams, unqualified <code class="highlighter-rouge">swap</code> in generic
code, etc.) For most APIs, however, ADL is not part of the design.
Calling functions from namespace <code class="highlighter-rouge">absl</code> via ADL, unless that is
explicitly intended as part of the design, should be avoided.
This is especially true for any function that accepts a pre-adopted
type like <code class="highlighter-rouge">absl::string_view</code>: when the type changes to utilize the
<code class="highlighter-rouge">std</code> version, its associated namespace will change and ADL will
fail, resulting in build breaks. More generally: just don’t do it,
we may need to shift things around internally, so please don’t
depend on namespace details.</li>
  <li><strong>Do not depend upon internal details.</strong> This should go without
saying: if something is in a namespace or filename/path that
includes the word “internal”, you are not allowed to depend upon it.
It’s an implementation  detail. You cannot friend it, you cannot
include it, you cannot mention it or refer to it in any way.</li>
  <li><strong>Include What You Use.</strong> We may make changes to the internal <code class="highlighter-rouge">#include</code>
graph for Abseil headers - if you use an API, please include the relevant
header file directly.</li>
  <li><strong>Do not make unqualified calls in the global namespace.</strong> A call like <code class="highlighter-rouge">f(a);</code>
for a function <code class="highlighter-rouge">f</code> in the global namespace can become ambiguous if/when we add
<code class="highlighter-rouge">absl::f</code> (especially if <code class="highlighter-rouge">a</code> is an Abseil type). We generally do not recommend
you use the global namespace for anything. If you must, please qualify any
call that accepts a type provided by Abseil.</li>
</ul>

<h3 id="what-we-promise">What We Promise</h3>

<ul>
  <li><strong>We will support our code for at least 5 years</strong>. We will support language
versions, compilers, platforms, and workarounds as needed for 5 years after
their replacement is available, when possible. If it is technically infeasible
(such as support for MSVC before 2015, which has limited C++11 functionality),
those will be noted specifically. After 5 years we will stop support and may
remove workarounds. <code class="highlighter-rouge">ABSL_HAVE_THREAD_LOCAL</code> is a good example: the base 
language feature works on everything except XCode prior to XCode 8 ; once
XCode 8 is out for 5 years, we will drop that workaround support.</li>
  <li><strong>We will not break API compatibility.</strong> If we must, we will ship a tool to
automate the upgrade to a preferred API. We will never break that API in a
single change - we believe in non-atomic refactoring. We will introduce the
new API and the tool, wait some time, and then remove the old.</li>
  <li><strong>We promise to provide good forward-compatibility with the C++
standard.</strong></li>
  <li><strong>We promise at least the basic-exception guarantee.</strong> Although
Google is part of the minority of the C++ community that doesn’t use
exceptions, we recognize that it <strong>is</strong> a minority and believe that
code is often better when it’s exception-safe. We’ve done our best
to make things exception-safe. However, we won’t contort things to
support all possible exceptions — if you have a hash functor
or <code class="highlighter-rouge">operator==</code> that throws, we may just mark it <code class="highlighter-rouge">noexcept</code> instead.</li>
</ul>

</div>

<div id="toc" class="toc col-sm-2"></div>
</div>
</div>
</div>




<footer>
    <div class="container">
        <div class="left-links">
            <img src="/img/typography_white.png" style="height:24px;"/>
            <p class="description">&copy;2017 Abseil | Live at Head</p>
        </div>
        <div class="right-links">
            <div class="col-md-4 col-sm-4 col-xs-12 footer-documentation">
                <ul class="toggle">
                    <a href="/about/"><p class="right-link-headers">About Abseil</p></a>
                    <li><a href="/about/intro"><p>Introduction</p></a></li>
                    <li><a href="/about/philosophy"><p>Philosophy</p></a></li>
                    <li><a href="/about/compatibility"><p>Compatibility</p></a></li>
                    <li><a href="/about/design/"><p>Design Notes</p><a></li>
                 </ul>
            </div>
            <hr class="footer-sections" />
            <div class="col-md-3 col-sm-3 col-xs-12 footer-resources">
                <ul class="toggle">
                    <a href="/docs/"><p class="right-link-headers">Dev Guides</p></a>
                    <li><a href="/docs/cpp.html"><p>C++</p></a></li>
                    <li><a href="/blog/"><p>Abseil Blog</p></a></li>
                </ul>
                </ul>
            </div>
            <hr class="footer-sections" />
            <div class="col-md-5 col-sm-5 col-xs-12 footer-community">
                <ul class="toggle">
                    <a href="/community/"><p class="right-link-headers">Community</p></a>
                    <li><a href="https://github.com/abseil/" target="_blank"><p class="github community-links">GitHub</p></a></li>
                    <li><a href="https://twitter.com/abseilio" target="_blank"><p class="twitter community-links">Twitter</p></a></li>
                    <li><a href="http://stackoverflow.com/tags/abseil/" target="_blank"><p class="stack-overflow community-links">Stack Overflow</p></a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>


    <script src="/libs/bootstrap/js/bootstrap.min.js"></script>
    <!-- Include SlickJS for carousel -->
    <script src="/js/slick.min.js"></script>
    <script src="/js/jquery.visible.min.js"></script>
    <!-- Include the common site javascript -->
    <script src="/js/common.js" type="text/javascript" charset="utf-8"></script>
    <!-- GA -->
    <script src="/js/waves.js"></script>
    <script src="/js/buttons.js"></script>
    
    

    
	
	<!-- Global Site Tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106933809-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments)};
	  gtag('js', new Date());

	  gtag('config', 'UA-106933809-1');
	</script>

  </body>
</html>
